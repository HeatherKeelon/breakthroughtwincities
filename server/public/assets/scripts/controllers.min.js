/*! breakthrough 2015-12-17 */
myApp.controller("absentCtrl",["$scope","$http","DataService",function(a,b,c){console.log("on admin absent controller--absentCtrl.js"),a.dataService=c,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)})}]),myApp.controller("attendanceCtrl",["$scope","$http","$location","DataService",function(a,b,c,d){console.log("on admin attendance controller--attendanceCtrl.js"),a.dataService=d,a.user={},a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData()})}]),myApp.controller("dashCtrl",["$scope","$http","$location","DataService",function(a,b,c,d){a.dataService=d,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.prework={},a.absent={},a.getAbsences=function(){b.get("/absent",{params:{date:a.absent.date}}).then(function(b){a.dataService.setData(b.data),c.path("/absent")})},a.getPrework=function(){b.get("/prework",{params:{date:a.prework.date}}).then(function(b){a.dataService.setData(b.data),c.path("/prework")})},console.log("on admin dashboard controller--dashCtrl.js")}]),myApp.controller("preworkCtrl",["$scope","$http","$location","DataService",function(a,b,c,d){console.log("on admin prework controller--preworkCtrl.js"),a.dataService=d,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.gridOptions={enableSorting:!0,columnDefs:[{name:"id",field:"id",enableCellEdit:!1},{name:"Teacher",field:"teacher_name",enableCellEdit:!0},{name:"First Name",field:"firstname",enableCellEdit:!0},{name:"Last Name",field:"lastname",enableCellEdit:!0},{name:"Phone 1",field:"phone1",enableCellEdit:!0},{name:"Call Status",field:"contact_status",enableCellEdit:!0},{name:"Administration Notes",field:"admin_notes",enableCellEdit:!0}]},a.gridOptions.data=a.dataService.getData(),console.log(a.gridOptions.data),console.log(a.studentList),a.openStudent=function(c){b.get("/student",{params:{who:c}}).then(function(b){console.log(b.data),a.dataService.setData(b.data)})}}]),myApp.controller("teacherCtrl",["$scope","$http","$location","DataService",function(a,b,c,d){console.log("on admin teacher select controller--teacherCtrl.js"),a.dataService=d,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.teachers=[],a.getTeachers=function(){b.get("/admin/teachers",{params:{date:a.date}}).then(function(b){a.teachers=b.data})},a.selectTeacher=function(c){b.get("/prework",{params:{date:a.date,who:c}}).then(function(a){console.log(a)})},a.getTeachers()}]),myApp.controller("uploadCtrl",["$scope","$http","Upload","DataService",function(a,b,c,d){console.log("on admin upload controller--uploadCtrl.js"),a.dataService=d,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.uploadStatus=!1,a.upload=function(a){console.log(a),c.upload({url:"/upload",data:{file:a}}).then(function(a){console.log("Success "+a.config.data.file.name+"uploaded. Response: "+a.data)},function(a){console.log("Error status: "+a.status)},function(a){var b=parseInt(100*a.loaded/a.total);console.log("progress: "+b+"% "+a.config.data.file.name)})}}]),myApp.controller("userCtrl",["$scope","$http","$location","DataService",function(a,b,c,d){console.log("on admin user controller--userCtrl.js"),a.dataService=d,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.userList=[],a.newUser={},a.gridOptions={enableSorting:!0,dataUpdated:function(){console.log("edited!")},columnDefs:[{name:"id",field:"id",enableCellEdit:!0},{name:"Role",field:"role",enableCellEdit:!0},{name:"First Name",field:"firstname",enableCellEdit:!0},{name:"Last Name",field:"lastname",enableCellEdit:!0},{name:"Email",field:"email",enableCellEdit:!0}]},a.submitForm=function(){b.post("/roles",a.newUser).then(function(b){console.log("post response :",b),a.getUserList()})},a.getUserList=function(){b.get("/roles").then(function(b){a.gridOptions.data=b.data,console.log("this is userList :",a.userList)})},a.updateUser=function(c){b.put("/roles",c).then(function(b){console.log("put response :",b),a.getUserList()})},a.deleteUser=function(c){b["delete"]("/roles",{params:{deleteMe:c}}).then(function(b){console.log("delete response :",b),a.getUserList()})},a.getUserList()}]),myApp.controller("attendanceTCtrl",["$scope","$http","DataService",function(a,b,c){console.log("on teacher attendance controller--attendanceTCtrl.js"),a.dataService=c,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)})}]),myApp.controller("classCtrl",["$scope","$http","DataService",function(a,b,c){console.log("on teacher class controller--classCtrl.js"),a.dataService=c,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)})}]),myApp.controller("dashTCtrl",["$scope","$http","DataService",function(a,b,c){console.log("on teacher dash controller--dashTCtrl.js"),a.dataService=c,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)}),a.getAttendance=function(){b.get("/attendance",{params:{date:a.date,who:a.user}}).then(function(a){console.log(a)})}}]),myApp.controller("studentCtrl",["$scope","$http","DataService",function(a,b,c){console.log("on student controller--studentCtrl.js"),a.dataService=c,a.user={},a.date=a.dataService.getDate(),a.user=a.dataService.peopleData(),void 0===a.dataService.peopleData()&&a.dataService.retrieveData().then(function(){a.user=a.dataService.peopleData(),console.log(a.user)})}]);